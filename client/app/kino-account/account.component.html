<app-loading [condition]="isLoading"></app-loading>
<app-toast [message]="toast.message"></app-toast>

<div *ngIf="!isLoading">
  <form #accountForm="ngForm" (ngSubmit)="save(user)">

    <p-panel header="My Account Details">
      <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0;">

        <div class="ui-grid-row">
          <div class="ui-grid-col-3">
            Username:
          </div>
          <div class="ui-grid-col-9">
            <input pInputText class="form-control" type="text" name="username" [(ngModel)]="user.username" placeholder="Username" required>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-3">
            Email:
          </div>
          <div class="ui-grid-col-9">
            <input pInputText class="form-control" type="email" name="email" [(ngModel)]="user.email" placeholder="Email" required>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-3">
            Role:
          </div>
          <div class="ui-grid-col-9">
            <select class="custom-select" name="role" [(ngModel)]="user.role">
              <option value="" disabled>Role</option>
              <option value="user">User</option>
              <!-- todo: check this -->
              <!--<option value="admin">Admin</option>-->
            </select>
          </div>
        </div>

        <p-button label="Save" type="submit" style="margin-left: 5px;" [disabled]="!accountForm.form.valid"></p-button>
      </div>
    </p-panel>
  </form>
</div>
